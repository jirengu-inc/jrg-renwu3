<!doctype html>
<html>
<head>
<style>
*{margin:0;padding:0;border:0}
div{width:320px;height:240px;border:solid 1px;overflow:hidden;margin-bottom:100px;margin-left:300px;margin-top:100px;}

</style>
</head>
<div>
<a>
<img class="img1" src="w.jpg">
</a>
</div>
<div>
<a>
<img class="img2" src="h.jpg">
</a>
</div>
<script src="jquery-3.0.0.min.js"></script>
<script type="text/javascript" src="imgCenVer.js"></script>
<script>
$('img').each(function(){
	$(this).imgCenVer();
});

// $.fn.imgCenVer = function(width,height){
// 	var width = width||320,
// 		height = height||240,
// 		curHeight = this.height(),
// 		curWidth = this.width();

// 	if(curWidth/curHeight > width/height){
// 		this.height(height);
// 		curWidth = this.width();
// 		this.css('margin-left',-(curWidth-width)/2);
// 	}else{
// 		this.width(width);
// 		curHeight = this.height();
// 		this.css('margin-top',-(curHeight-height)/2);
// 		console.log(curHeight);
// 	}
// 	return this;
// };


// $('.img1').imgCenVer();
// $('.img2').imgCenVer();

// $('img').each(function(){
// var height = $(this).height();
// var width = $(this).width();
// if(width/height > 32/24){
// 	$(this).height(240);
// 	width = $(this).width();
// 	$(this).css('margin-left',-(width-320)/2);
// }else{
// 	$(this).width(320);
// 	height = $(this).height();
// 	$(this).css('margin-top',-(height-240)/2);
// }

// });
</script>
</html>