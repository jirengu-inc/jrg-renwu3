<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>task-22-5</title>
    <style>
      * {
        margin:0;
        padding:0;
      }
      a{
        color:#ccc;
        text-decoration: none;
      }
      a:hover{
        color: #999;
      }
      .pull-right{
        float: right;
      }
      .open {
        padding: 5px 10px;
        border-radius: 5px;
        background-color: #ddd;
        border: 0;
      }
      .open:hover {
        background-color: #1693E3;
        color:#fff;
      }
      .modal{
        position: fixed;
        width:100%;
        height:100%;
        top: 0;
        background-color: rgba(220,220,220,.5);
        display: none;
      }
      .modal .panel{
        position: relative;
        left: 50%;
        top: 50%;
        transform: translate3d(-50%,-50%,0);
        width:30%;
        background-color: #fff;
        border: 1px solid #ccc;
        border-radius: 5px;
      }
      .panel-head{
        height: 40px;
        line-height: 40px;
        font-size: 18px;
        border-bottom: 1px solid #ccc;
        padding: 0 10px;
      }
      .close {
        position:absolute;
        top: 10px;
        right: 10px;
      }
      .panel-body{
        padding: 10px;
        min-height: 100px;
        border-bottom: 1px solid #eee;
      }
      .panel-footer{
        padding:0 10px;
        text-align: right;
        height: 40px;
        line-height: 40px;
      }
      .panel-footer button {
        padding: 4px 6px;
        border-radius: 5px;
        background-color: #e8e8e8;
        border-color: transparent;
      }
      .btn-default:hover{
        background-color: #d2d2d2;
      }
      .panel-footer .btn-info{
        background-color: #1D81C1;
        color: #fff;
      }
      .btn-info:hover {
        background-color: #0E7094;
      }
      button:focus {
        outline: none;
      }
    </style>
  </head>
  <body>
    <button class="open">点我</button>
    <div class="modal">
      <div class="panel">
        <h1 class="panel-head">标题</h1>
        <a class="close" href="#">×</a>
        <div class="panel-body">内容</div>
        <div class="panel-footer">
          <button class="btn-default">取消</button>
          <button class="btn-info">确定</button>
        </div>
      </div>
    </div>
    <script>
      var open = document.querySelector(".open"),
          panel = document.querySelector(".panel"),
          modal = document.querySelector(".modal");
      function showModal(modal){
        modal.style.display="block";
      }
      function closeModal(modal){
        modal.style.display="none";
      }
      function hasClass(ele,cls){
        return !!ele.className.match(new RegExp('\\b'+cls+'\\b'))
      }
      open.addEventListener("click",function(e){
        e.stopPropagation();
        showModal(modal);
      },false)
      panel.addEventListener("click",function(e){
        e.stopPropagation();
        if(hasClass(e.target,"close")||hasClass(e.target,"btn-default")){
          closeModal(modal);
        }
      },false)

      document.body.addEventListener("click",function(){
        closeModal(modal);
      },false)
    </script>
  </body>
</html>
