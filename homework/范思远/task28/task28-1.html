<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>task28-1</title>
    <style type="text/css">
    * {
        margin: 0;
        padding: 0;
    }
    
    .layout {
        padding: 10px;
    }
    
    .header {
        height: 100px;
        background: red;
        text-align: center;
        line-height: 100px;
        margin-bottom: 20px;
    }
    
    .nav {
        height: 50px;
        background: blue;
    }
    
    .ct {
        background-color: #ccc;
        padding-left: 110px;
        padding-top: 10px;
    }
    
    .asode {
        width: 100px;
        height: 400px;
        float: left;
        background: green;
        margin-left: -100px;
    }
    
    .main {
        height: 800px;
        background: white;
        padding-left: 20px;
        transition:
    }
    </style>
</head>

<body>
    <div class="layout">
        <div class="header">header</div>
        <div class="nav">nav</div>
        <div class='ct'>
            <div class="asode">asode</div>
            <div class="main">main</div>
        </div>
    </div>
    <script src="http://apps.bdimg.com/libs/jquery/1.9.1/jquery.js"></script>
    <script type="text/javascript">
    $.fn.stickup = function(opts) {
        var $this = this,
            $width = $this.width(),
            $top = $this.offset().top,
            $div = $this.clone().css({
                opacity: 0,
                position: 'fixed',
                width: $width,
                top: 0,
                'z-index': 9999
            });
        $this.before($div);
        $(document).on('scroll', function() {
            var $offtop = $(document).scrollTop();
            if ($offtop >= $top) {
                if (!$div.attr('data-stick')) {
                    setstick();
                }
            } else {
                removestick();
            }
        });

        function setstick() {
        	$this.css('opacity',0);
            $div.css({
                opacity: 1,
                backgroundColor: opts

            }).show();
            $div.attr('data-stick', 'true');
        }

        function removestick() {
        	$this.css('opacity',1);
            $div.removeAttr('data-stick')
                .css('opacity', 0)
                .hide();
        }

    };
    $('.nav').stickup();
    </script>
</body>

</html>
